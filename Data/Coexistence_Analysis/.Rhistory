colnames(fichero)[1] <- ""
str(fichero)
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=500, allowEmpty=F)
test
fichero <- read.table("lh1.txt")
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=50, allowEmpty=F)
fichero <- read.table("lh4.txt") 
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
str(fichero)
fichero <- read.table("lh5.txt") # sims = 1000
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
str(fichero)
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
fichero <- read.table("lh2.txt")
dim(fichero)
fichero <- read.table("lh3.txt")
dim(fichero)
fichero <- read.table("lh1.txt")
dim(fichero)
fichero <- read.table("ry1.txt")
dim(fichero)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=100, allowEmpty=F)
test
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=500, allowEmpty=F)
test
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
fichero <- read.table("ry2.txt")
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
dim(fichero)
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
fichero <- read.table("ry3.txt")
dim(fichero)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
fichero <- read.table("ry4.txt")
dim(fichero)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
fichero <- read.table("ry5.txt")
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests
test <- Metacommunity(comm=fichero, scores=1, method="r1", sims=1000, allowEmpty=F)
test
dim(fichero)
fichero <- read.table("lh.txt")
dim(fichero)
fichero <- read.table("ry.txt") 
dim(fichero)
fichero <- read.table("lh2.txt")
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests - Jani Heino recomienda r1 y quasiswap.
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
fichero <- read.table("lh3.txt") # sims = 1000 (9x17)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests - Jani Heino recomienda r1 y quasiswap.
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
fichero <- read.table("lh4.txt") # sims = 1000 (9x15)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests - Jani Heino recomienda r1 y quasiswap.
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
1.90909091
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
fichero <- read.table("lh5.txt") # sims = 1000 (8x14)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
fichero <- read.table("ry1.txt") # sims = 1000 (5x8)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests - Jani Heino recomienda r1 y quasiswap.
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
fichero <- read.table("ry2.txt") # sims = 1000 (9x11)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests - Jani Heino recomienda r1 y quasiswap.
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
fichero <- read.table("ry3.txt") # sims = 1000 (6x12) 
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests - Jani Heino recomienda r1 y quasiswap.
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
$`Comm`
  M_ruf P_hys S_spa C_lat S_vul   L_cus S_pop S_arg Epi_ry M_och O_pic
5     0     0     0     0     0 1     0     0     1      1     1     1
3     0     0     0     0     0 1     1     1     1      0     0     0
6     0     0     1     0     0 1     0     0     1      0     0     0
2     0     0     1     0     1 1     0     0     1      0     0     0
4     0     1     0     1     0 1     0     0     1      0     0     0
1     1     1     1     0     0 1     0     0     0      0     0     0
$Coherence
                name         stat
1             embAbs 1.500000e+01
2                  z 4.484703e+00
3                  p 7.301551e-06
4            simMean 2.591300e+01
5        simVariance 2.433383e+00
6 method = quasiswap           NA
$Turnover
          name       stat
1     turnover 67.0000000
2            z -1.1828267
3            p  0.2368778
4      simMean 55.1390000
5  simVariance 10.0276734
6 method = EMS         NA
$Boundary
   name      stat
1 index 0.9454545
2     p 0.5164382
3    df 3.0000000
eje1.qs 
fichero <- read.table("ry4.txt") # sims = 1000 (8x12) 
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
## Tests - Jani Heino recomienda r1 y quasiswap.
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("lh2.txt") # sims = 1000 (6x11)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("lh3.txt") # sims = 1000 (9x17)
# fichero <- read.table("lh4.txt") # sims = 1000 (9x15)
# fichero <- read.table("lh5.txt") # sims = 1000 (8x14)
# fichero <- read.table("ry1.txt") # sims = 1000 (5x8)
# fichero <- read.table("ry2.txt") # sims = 1000 (9x11)
# fichero <- read.table("ry3.txt") # sims = 1000 (6x12) 
# fichero <- read.table("ry4.txt") # sims = 1000 (8x12) 
# fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
# fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("lh4.txt") # sims = 1000 (9x15)
# fichero <- read.table("lh5.txt") # sims = 1000 (8x14)
# fichero <- read.table("ry1.txt") # sims = 1000 (5x8)
# fichero <- read.table("ry2.txt") # sims = 1000 (9x11)
# fichero <- read.table("ry3.txt") # sims = 1000 (6x12) 
# fichero <- read.table("ry4.txt") # sims = 1000 (8x12) 
# fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
# fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("lh5.txt") # sims = 1000 (8x14)
# fichero <- read.table("ry1.txt") # sims = 1000 (5x8)
# fichero <- read.table("ry2.txt") # sims = 1000 (9x11)
# fichero <- read.table("ry3.txt") # sims = 1000 (6x12) 
# fichero <- read.table("ry4.txt") # sims = 1000 (8x12) 
# fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
# fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("ry1.txt") # sims = 1000 (5x8)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("ry2.txt") # sims = 1000 (9x11)
# fichero <- read.table("ry3.txt") # sims = 1000 (6x12) 
# fichero <- read.table("ry4.txt") # sims = 1000 (8x12) 
# fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
# fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("ry3.txt") # sims = 1000 (6x12) 
# fichero <- read.table("ry4.txt") # sims = 1000 (8x12) 
# fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
# fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("ry4.txt") # sims = 1000 (8x12) 
# fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
# fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
# fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
 fichero <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
fichero <- read.table("lh.txt") # sims = 1000 (34x25)
str(fichero)
 fichero <- read.table("ry5.txt") # sims = 1000 (8x16) 
str(fichero)
 fichero <- read.table("lh.txt") # sims = 1000 (34x25)
 fichero2 <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero2 <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
#fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
#colnames(fichero)[1] <- ""
fichero2[sapply(fichero2, is.integer)] <- lapply(fichero2[sapply(fichero2, is.factor)], as.numeric)
str(fichero2)
 fichero2 <- read.table("lh.txt") # sims = 1000 (34x25)
# fichero2 <- read.table("ry.txt") #  sims = 1000 (36x21)
## Tunear matriz
#fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
#colnames(fichero)[1] <- ""
fichero2[sapply(fichero2, is.integer)] <- lapply(fichero2[sapply(fichero2, is.numeric)], as.numeric)
 mydata <- read.csv("LH.csv", sep=",", head=T)
# mydata <- read.csv("RY.csv", sep=",", head=T)
# delete cols with all 0 values
datos <- mydata[,2:35]
datos[sapply(datos, is.integer)] <- lapply(datos[sapply(datos, is.numeric)], as.numeric) # turn integer into numeric
code <- as.data.frame(as.character(mydata[,1]))
dato <- as.data.frame(c(code, datos)) # bind in a df
colnames(dato)[1] <- ""
x <- as.matrix(dato[,2:35]) # turn into matrix
y <- x[,!(colSums(abs(x)) == 0)] # select non-0 columns 
z <- as.data.frame(as.numeric(which(!(rowSums(abs(x)) == 0)))) # identify rows to be retained
names(z) <- ""
code2 <- as.data.frame(as.character((code[z,]))) # select code labels using z
names(code2) <- ""
y2 <- as.data.frame(y[!(rowSums(abs(y)) == 0),]) # delete 0 rows
final <- cbind(code2, y2)
colnames(final)[1] <- ""
 lh <- final
datos <- mydata[,2:35]
datos[sapply(datos, is.integer)] <- lapply(datos[sapply(datos, is.numeric)], as.numeric) # turn integer into numeric
code <- as.data.frame(as.character(mydata[,1]))
dato <- as.data.frame(c(code, datos)) # bind in a df
colnames(dato)[1] <- ""
x <- as.matrix(dato[,2:35]) # turn into matrix
y <- x[,!(colSums(abs(x)) == 0)] # select non-0 columns 
z <- which(!(rowSums(abs(x)) == 0)) # identify rows to be retained
code2 <- as.data.frame(as.character((code[z,]))) # select code labels using z
names(code2) <- ""
y2 <- as.data.frame(y[!(rowSums(abs(y)) == 0),]) # delete 0 rows
z2 <- as.data.frame(as.numeric(z))
names(z2) <- ""
final <- cbind(code2, z2, y2)
colnames(final)[1] <- ""
 lh <- final
str(lh)
datos <- mydata[,2:35]
datos[sapply(datos, is.integer)] <- lapply(datos[sapply(datos, is.numeric)], as.numeric) # turn integer into numeric
code <- as.data.frame(as.character(mydata[,1]))
dato <- as.data.frame(c(code, datos)) # bind in a df
colnames(dato)[1] <- ""
x <- as.matrix(dato[,2:35]) # turn into matrix
y <- x[,!(colSums(abs(x)) == 0)] # select non-0 columns 
z <- which(!(rowSums(abs(x)) == 0)) # identify rows to be retained
code2 <- as.data.frame(as.character((code[z,]))) # select code labels using z
names(code2) <- "sample_label"
y2 <- as.data.frame(y[!(rowSums(abs(y)) == 0),]) # delete 0 rows
z2 <- as.data.frame(as.numeric(z))
names(z2) <- ""
final <- cbind(code2, z2, y2)
colnames(final)[2] <- ""
 lh <- final
str(lh)
 mydata <- read.csv("RY.csv", sep=",", head=T)
# delete cols with all 0 values
datos <- mydata[,2:35]
datos[sapply(datos, is.integer)] <- lapply(datos[sapply(datos, is.numeric)], as.numeric) # turn integer into numeric
code <- as.data.frame(as.character(mydata[,1]))
dato <- as.data.frame(c(code, datos)) # bind in a df
colnames(dato)[1] <- ""
x <- as.matrix(dato[,2:35]) # turn into matrix
y <- x[,!(colSums(abs(x)) == 0)] # select non-0 columns 
z <- which(!(rowSums(abs(x)) == 0)) # identify rows to be retained
code2 <- as.data.frame(as.character((code[z,]))) # select code labels using z
names(code2) <- "sample_label"
y2 <- as.data.frame(y[!(rowSums(abs(y)) == 0),]) # delete 0 rows
z2 <- as.data.frame(as.numeric(z))
names(z2) <- ""
final <- cbind(code2, z2, y2)
colnames(final)[2] <- ""
# lh <- final
 ry <- final
str(ry)
coex_mat <- list(lh1, lh2, lh3, lh4, lh5, ry1, ry2, ry3, ry4, ry5, lh, ry)  
write.table(lh, "lh.txt")
write.table(ry, "ry.txt")
coex_dat <- tempfile("coex_mat", fileext = ".rds") # no se donde lo está guardando, pero por el momento me vale.
saveRDS(coex_mat, coex_dat)
 fichero <- read.table("lh.txt") # sims = 1000 (34x25)
str(fichero)
fichero <- fichero[,-1]
str(fichero)
 fichero <- read.table("lh.txt") # sims = 1000 (34x25)
sample_labs <- fichero[,1]
sample_labs_lh <- fichero[,1]
str(sample_labs_lh)
fichero <- fichero[,-1]
str(fichero)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
str(fichero)
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
fichero <- read.table("ry.txt") #  sims = 1000 (36x21)
sample_labs_ry <- fichero[,1]
fichero <- fichero[,-1]
str(fichero)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
str(fichero)
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
mydata <- read.csv("Matriz_2loc.csv", sep=",", head=T)
str(mydata)
datos <- mydata[,2:35]
datos[sapply(datos, is.integer)] <- lapply(datos[sapply(datos, is.numeric)], as.numeric) # turn integer into numeric
code <- as.data.frame(as.character(mydata[,1]))
dato <- as.data.frame(c(code, datos)) # bind in a df
colnames(dato)[1] <- ""
x <- as.matrix(dato[,2:35]) # turn into matrix
y <- x[,!(colSums(abs(x)) == 0)] # select non-0 columns 
z <- which(!(rowSums(abs(x)) == 0)) # identify rows to be retained
code2 <- as.data.frame(as.character((code[z,]))) # select code labels using z
names(code2) <- "sample_label"
y2 <- as.data.frame(y[!(rowSums(abs(y)) == 0),]) # delete 0 rows
z2 <- as.data.frame(as.numeric(z))
names(z2) <- ""
final <- cbind(code2, z2, y2)
colnames(final)[2] <- ""
todo <- final
str(todo)
coex_mat <- list(lh1, lh2, lh3, lh4, lh5, ry1, ry2, ry3, ry4, ry5, lh, ry, todo)  
write.table(todo, "todo.txt")
coex_dat <- tempfile("coex_mat", fileext = ".rds") # no se donde lo está guardando, pero por el momento me vale.
saveRDS(coex_mat, coex_dat)
 fichero <- read.table("todo.txt") #  sims = 1000 (36x21)
sample_labs_todo <- fichero[,1]
fichero <- fichero[,-1]
str(fichero)
fichero[sapply(fichero, is.integer)] <- lapply(fichero[sapply(fichero, is.numeric)], as.numeric)
colnames(fichero)[1] <- ""
str(fichero)
# Eje 1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=9000, allowEmpty=F)
eje1.r1
eje1.r1 <- Metacommunity(comm=fichero, scores=1, method="r1", order=T, sims=1000, allowEmpty=F)
eje1.r1
eje1.qs <- Metacommunity(comm=fichero, scores=1, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje1.qs 
# Eje 2
eje2.r1 <- Metacommunity(comm=fichero, scores=2, method="r1", order=T, sims=1000, allowEmpty=F)
eje2.r1
eje2.qs <- Metacommunity(comm=fichero, scores=2, method="quasiswap", order=T, sims=1000, allowEmpty=F)
eje2.qs 
dim(lh1)
lh1
dim(lh2)
dim(lh3)
dim(lh4)
dim(lh5)
dim(ry1)
dim(ry2)
dim(ry3)
dim(ry4)
dim(ry5)
dim(lh)
dim(ry)
dim(todo)
q()
